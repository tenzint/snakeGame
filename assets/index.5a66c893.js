var p=Object.defineProperty;var w=(r,i,s)=>i in r?p(r,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[i]=s;var o=(r,i,s)=>(w(r,typeof i!="symbol"?i+"":i,s),s);import{d as u,r as f,o as m,a as y,c as g,b as d,t as x,u as k,F as _,e as S,f as M,g as R}from"./vendor.35bf7410.js";const F=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const n of e)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function s(e){const n={};return e.integrity&&(n.integrity=e.integrity),e.referrerpolicy&&(n.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?n.credentials="include":e.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(e){if(e.ep)return;e.ep=!0;const n=s(e);fetch(e.href,n)}};F();var C=(r,i)=>{const s=r.__vccOpts||r;for(const[c,e]of i)s[c]=e;return s};const I={class:"container"},L=u({setup(r){let i=f(),s,c=f(0),e=f(0);class n{constructor(t=20,h=window.innerWidth/20,l=window.innerHeight/20){o(this,"cRef");o(this,"ctx");o(this,"unit");o(this,"width");o(this,"height");o(this,"canvasColor");o(this,"color2");o(this,"snakeColor");o(this,"snake");o(this,"velocity");o(this,"setInterval");o(this,"food");o(this,"score");s=this,this.cRef=i.value,this.ctx=null,this.unit=t,this.width=h,this.height=l,this.canvasColor="rgba(128, 128, 128, 0.3)",this.color2="rgba(128, 128, 128, 0.5)",this.snakeColor="#00cc00",this.snake=[],this.velocity={x:1,y:0},this.setInterval=0,this.food={x:Math.random()*this.width,y:Math.random()*this.height},this.score=this.snake.length}start(){window.innerWidth>=1080?this.unit=30:window.innerWidth>=720?this.unit=20:this.unit=15,this.cRef.width=Math.floor(window.innerWidth*.8),this.cRef.height=Math.floor(window.innerHeight*.8),this.width=Math.floor(this.cRef.width/this.unit),this.height=Math.floor(this.cRef.height/this.unit);let t=Math.floor(this.width/2),h=Math.floor(this.height/2);this.snake=[],this.velocity={x:1,y:0},this.food={x:Math.random()*this.width,y:Math.random()*this.height},this.snake.push({x:t,y:h}),this.snake.push({x:t-1,y:h}),this.snake.push({x:t-2,y:h}),this.snake.push({x:t-3,y:h}),this.snake.push({x:t-4,y:h}),this.updateScore(),this.randomizeFood(),this.setInterval&&clearInterval(this.setInterval),this.setInterval=setInterval(()=>this.moveNext(),200)}updateScore(){this.score=this.snake.length}didSnakeEat(){return this.snake[0].x===this.food.x&&this.snake[0].y===this.food.y?(this.randomizeFood(),this.updateScore(),!0):!1}restart(){e.value<this.score&&(e.value=this.score),this.start()}checkForMistakes(){if(this.snake[0].x<0||this.snake[0].x>=this.width||this.snake[0].y<0||this.snake[0].y>=this.height){this.restart();return}this.snake.forEach(t=>{if(this.snake[0]!==t&&this.snake[0].x===t.x&&this.snake[0].y===t.y){this.restart();return}})}moveNext(){var l;let t={x:this.snake[0].x,y:this.snake[0].y};t.x+=this.velocity.x,t.y+=this.velocity.y,this.snake.unshift(t),this.checkForMistakes(),this.didSnakeEat()||this.snake.pop(),(l=this.ctx)==null||l.clearRect(0,0,this.width*this.unit,this.height*this.unit),this.draw()}moveLeft(){this.snake[0].x-this.snake[1].x==0&&(this.velocity={x:-1,y:0})}moveRight(){this.snake[0].x-this.snake[1].x==0&&(this.velocity={x:1,y:0})}moveUp(){this.snake[0].y-this.snake[1].y==0&&(this.velocity={x:0,y:-1})}moveDown(){this.snake[0].y-this.snake[1].y==0&&(this.velocity={x:0,y:1})}randomizeFood(){this.food={x:Math.floor(Math.random()*this.width),y:Math.floor(Math.random()*this.height)},this.snake.forEach(t=>{t.x===this.food.x&&t.y===this.food.y&&this.randomizeFood()})}draw(){this.ctx=this.cRef.getContext("2d"),this.ctx.fillStyle=this.color2,this.ctx.fillRect(0,0,this.width*this.unit,this.height*this.unit),this.ctx.fillStyle=this.canvasColor;for(let t=0;t<this.width;t+=1)for(let h=0;h<this.height;h+=1)(t%2==0&&h%2==1||t%2==1&&h%2==0)&&this.ctx.fillRect(t*this.unit,h*this.unit,this.unit,this.unit);this.drawSnake(),this.drawFood()}drawSnake(){this.ctx.beginPath(),this.ctx.fillStyle=this.snakeColor,this.snake.forEach(t=>{this.ctx.rect(t.x*this.unit,t.y*this.unit,this.unit,this.unit),this.ctx.fill()}),this.ctx.closePath()}drawFood(){this.ctx.fillStyle="#cc0000",this.ctx.fillRect(this.food.x*this.unit,this.food.y*this.unit,this.unit,this.unit)}arrowPressed(t){t.code==="ArrowUp"?s.moveUp():t.code==="ArrowDown"?s.moveDown():t.code==="ArrowLeft"?s.moveLeft():t.code==="ArrowRight"&&s.moveRight()}}return m(()=>{const a=new n;document.addEventListener("keydown",a.arrowPressed),a.start(),c.value=a.score,console.log(a.score)}),(a,t)=>(y(),g(_,null,[d("span",null,"Score = "+x(k(c)),1),d("span",null,"High Score = "+x(k(e)),1),d("div",I,[d("canvas",{id:"snakeCanvas",ref_key:"canvasRef",ref:i},null,512)])],64))}});var b=C(L,[["__scopeId","data-v-59cf0326"]]);const E=u({setup(r){return(i,s)=>(y(),S(b))}}),v=M(E);v.use(R);v.mount("#app");
