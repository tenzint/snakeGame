var g=Object.defineProperty;var w=(h,i,o)=>i in h?g(h,i,{enumerable:!0,configurable:!0,writable:!0,value:o}):h[i]=o;var n=(h,i,o)=>(w(h,typeof i!="symbol"?i+"":i,o),o);import{d as y,r as f,o as _,a as p,c as M,b as d,t as v,u as x,F as R,p as S,e as C,f as F,g as E,h as P}from"./vendor.55611bcf.js";const L=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function o(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerpolicy&&(s.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?s.credentials="include":e.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(e){if(e.ep)return;e.ep=!0;const s=o(e);fetch(e.href,s)}};L();var b=(h,i)=>{const o=h.__vccOpts||h;for(const[r,e]of i)o[r]=e;return o};const H=h=>(S("data-v-36ae12a3"),h=h(),C(),h),I=H(()=>d("h1",{class:"title"},"Snake Game",-1)),A={class:"title-item"},N={class:"title-item"},O=y({setup(h){var i=f(null),o=f(null),r=f(null);let e,s=f(0),l=f(0);_(()=>{const c=new m;document.addEventListener("keydown",c.arrowPressed),c.start(),s.value=c.score,console.log(c.score)});class m{constructor(t=20,a=window.innerWidth/20,u=window.innerHeight/20){n(this,"cRef");n(this,"ctx");n(this,"unit");n(this,"width");n(this,"height");n(this,"canvasColor");n(this,"color2");n(this,"snakeColor");n(this,"snake");n(this,"velocity");n(this,"timer");n(this,"food");n(this,"score");n(this,"playingMode");e=this,this.cRef=i.value,this.ctx=null,this.unit=t,this.width=a,this.height=u,this.canvasColor="rgba(128, 128, 128, 0.3)",this.color2="rgba(128, 128, 128, 0.5)",this.snakeColor="#00cc00",this.snake=[],this.velocity={x:1,y:0},this.timer=0,this.food={x:Math.random()*this.width,y:Math.random()*this.height},this.score=0,this.playingMode=!1}setup(){window.innerWidth>=1080?this.unit=40:window.innerWidth>=720?this.unit=30:this.unit=20,r.value.style.height=window.innerHeight-o.value.offsetHeight+"px";let t=1;window.innerWidth>=600&&(t=.8),this.cRef.width=Math.floor(window.innerWidth*t/this.unit)*this.unit,this.cRef.height=Math.floor((window.innerHeight-o.value.offsetHeight)/this.unit)*this.unit,this.width=Math.floor(this.cRef.width/this.unit),this.height=Math.floor(this.cRef.height/this.unit)}cleanTimer(){clearInterval(this.timer)}togglePausePlay(){this.playingMode?(this.playingMode=!1,this.timer&&this.cleanTimer()):(this.playingMode=!0,this.timer&&this.cleanTimer(),this.timer=setInterval(()=>this.moveNext(),150))}start(){this.setup();let t=Math.floor(this.width/2),a=Math.floor(this.height/2);this.snake=[],this.velocity={x:1,y:0},this.food={x:Math.random()*this.width,y:Math.random()*this.height},this.snake.push({x:t,y:a}),this.snake.push({x:t-1,y:a}),this.snake.push({x:t-2,y:a}),this.snake.push({x:t-3,y:a}),this.snake.push({x:t-4,y:a}),this.updateScore(),this.randomizeFood(),this.playingMode=!1,this.moveNext()}updateScore(){this.score=this.snake.length,s.value=this.score}didSnakeEat(){return this.snake[0].x===this.food.x&&this.snake[0].y===this.food.y?(this.randomizeFood(),this.updateScore(),!0):!1}restart(){l.value<s.value&&(l.value=s.value),this.cleanTimer(),this.playingMode=!1,this.start()}checkForMistakes(){if(this.snake[0].x<0||this.snake[0].x>=this.width||this.snake[0].y<0||this.snake[0].y>=this.height){this.restart();return}this.snake.forEach(t=>{if(this.snake[0]!==t&&this.snake[0].x===t.x&&this.snake[0].y===t.y){this.restart();return}})}moveNext(){var u;let t={x:this.snake[0].x,y:this.snake[0].y};t.x+=this.velocity.x,t.y+=this.velocity.y,this.snake.unshift(t),this.checkForMistakes(),this.didSnakeEat()||this.snake.pop(),(u=this.ctx)==null||u.clearRect(0,0,this.width*this.unit,this.height*this.unit),this.draw()}moveLeft(){this.snake[0].x-this.snake[1].x==0&&(this.velocity={x:-1,y:0})}moveRight(){this.snake[0].x-this.snake[1].x==0&&(this.velocity={x:1,y:0})}moveUp(){this.snake[0].y-this.snake[1].y==0&&(this.velocity={x:0,y:-1})}moveDown(){this.snake[0].y-this.snake[1].y==0&&(this.velocity={x:0,y:1})}randomizeFood(){this.food={x:Math.floor(Math.random()*this.width),y:Math.floor(Math.random()*this.height)},this.snake.forEach(t=>{t.x===this.food.x&&t.y===this.food.y&&this.randomizeFood()})}draw(){this.ctx=this.cRef.getContext("2d"),this.ctx.fillStyle=this.color2,this.ctx.fillRect(0,0,this.width*this.unit,this.height*this.unit),this.ctx.fillStyle=this.canvasColor;for(let t=0;t<this.width;t+=1)for(let a=0;a<this.height;a+=1)(t%2==0&&a%2==1||t%2==1&&a%2==0)&&this.ctx.fillRect(t*this.unit,a*this.unit,this.unit,this.unit);this.drawSnake(),this.drawFood()}drawSnake(){this.ctx.beginPath(),this.ctx.fillStyle=this.snakeColor,this.snake.forEach(t=>{this.ctx.rect(t.x*this.unit,t.y*this.unit,this.unit,this.unit),this.ctx.fill()}),this.ctx.closePath()}drawFood(){this.ctx.fillStyle="#cc0000",this.ctx.fillRect(this.food.x*this.unit,this.food.y*this.unit,this.unit,this.unit)}arrowPressed(t){t.code==="KeyP"&&e.togglePausePlay(),e.playingMode&&(t.code==="ArrowUp"?e.moveUp():t.code==="ArrowDown"?e.moveDown():t.code==="ArrowLeft"?e.moveLeft():t.code==="ArrowRight"&&e.moveRight())}}return(c,t)=>(p(),M(R,null,[d("div",{class:"title-container",ref_key:"titleRef",ref:o},[I,d("span",A,"SCORE: "+v(x(s)),1),d("span",N,"HIGH SCORE: "+v(x(l)),1)],512),d("div",{class:"container",ref_key:"containerRef",ref:r},[d("canvas",{id:"snakeCanvas",ref_key:"canvasRef",ref:i},null,512)],512)],64))}});var W=b(O,[["__scopeId","data-v-36ae12a3"]]);const z=y({setup(h){return(i,o)=>(p(),F(W))}}),k=E(z);k.use(P);k.mount("#app");
